plan: 6
subs: count_nucleotides
properties:
  nucleotideCounts:
    test: |-
      use Data::Dump qw<quote pp>;
      if ($case->{expected}{error}) {
          sprintf(<<~'END', quote($case->{input}{strand}), $case->{expected}{error}, quote($case->{description}));
          like(
              dies( sub { count_nucleotides %s } ),
              qr/%s/,
              %s,
          );
          END
      }
      else {
          sprintf(<<~'END', quote($case->{input}{strand}), pp($case->{expected}), quote($case->{description}));
          is(
              count_nucleotides(%s),
              %s,
              %s,
          );
          END
      }

example: |-
  sub count_nucleotides {
    my ($strand) = @_;
    die 'Invalid nucleotide in strand' if $strand =~ /[^ACGT]/;
    my %count = qw(A 0 C 0 G 0 T 0);
    map {$count{$_}++} split(//, $strand);
    return \%count;
  }

stub: |-
  sub count_nucleotides {
    my ($strand) = @_;
    return undef;
  }
